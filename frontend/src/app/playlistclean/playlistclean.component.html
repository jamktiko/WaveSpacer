<div class="bg-[url(/images/background2.png)] bg-cover bg-no-repeat min-h-1/2 min-w-fit">
  <div class="p-[2rem] md:p-[1.5rem] lg:p-[0.5rem]">
    <header class="grid grid-cols-[auto_1fr] mobileL:mx-5 md:mx-10 lg:mx-25 xl:mx-35 2xl:mx-33  items-center gap-1">
      <a routerLink="/dashboard" class="grid grid-cols-[auto_1fr] justify-items-center items-center cursor-pointer">
        <img src="/images/logo.png" alt="Logo"
          class="rounded-full w-13 h-13 md:w-16 md:h-16 lg:w-19 lg:h-19 xl:w-22 xl:h-22 2xl:w-25 2xl:h-25 object-cover" />
        <h1 class="text-white font-semibold text-[clamp(1.2rem,3vw,2rem)]">
          {{title}}
        </h1>
      </a>
      <div class="bg-[#B76EFE]/15 justify-self-end rounded-full p-1 hover:bg-[#B76EFE]/40 text-[#B76EFE] font-bold">
        <img [src]="profilepic" alt="profilepic"
          class="rounded-full w-13 h-13 md:w-13 md:h-13 lg:w-16 lg:h-16 object-cover">
      </div>
    </header>

    <div
      class="flex flex-col items-center gap-5 lg:gap-10 lg:flex-row lg:items-start lg:justify-center xl:justify-around overflow-hidden">
      <div class="mt-10 md:py-5 lg:py-20 xl:py-32">
        <h1 class="text-white text-[clamp(1.5rem,2.5vw,3rem)] text-center lg:text-left font-semibold md:leading-12">
          Choose the songs<br>
          to be <span class="text-[#B76EFE]">deleted</span>
        </h1>
      </div>
      <div class="rounded-2xl bg-[#48404A] border-[#58525A] border-1 mb-10 min-w-[320px] max-w-[600px] lg:max-w-[750px] 
        mt-5 lg:mt-10 max-h-1000px lg:max-h-[90vh] overflow-hidden">
        <div class="grid grid-cols-1 lg:grid-cols-2 h-full">
          <div class="flex flex-col items-center justify-center p-4">
            <img
              class="min-w-[150px] min-h-[150px] w-40 h-40 md:w-43 md:h-43 lg:w-47 lg:h-47 xl:w-50 xl:h-50 rounded-md"
              [src]="playlistStore.selected()?.img" alt="playlist img">

            <h1 class="text-white text-[clamp(0.8rem,3vw,1.5rem)] text-center">
              {{capitalize(playlistStore.selected()?.name)}}</h1>

            <div class="h-px w-full bg-black/30 mt-3"></div>
            <label class="flex items-center cursor-pointer gap-2 ml-3 my-5">
              <input type="checkbox" class="hidden" (change)="songSelectStore.selectAll()">
              <span class="w-5 h-5 border-1 bg-[#B76EFE] flex items-center justify-center rounded-sm">
                @if (songSelectStore.selectedIds().length === songStore.songs().length) {
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                  fill="#000000">
                  <path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z" />
                </svg>
                }
              </span>
              <span class="text-[clamp(1rem,3vw,1.3rem)] text-white">Songs selected</span>
            </label>
            <div class="h-px w-full bg-black/30 mt-3"></div>
            <div class="flex items-center my-5 gap-1">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="#FFFFFF">
                <path
                  d="M520-600v-80h120v-160h80v160h120v80H520Zm120 480v-400h80v400h-80Zm-400 0v-160H120v-80h320v80H320v160h-80Zm0-320v-400h80v400h-80Z" />
              </svg>
              <span class="text-[clamp(1rem,3vw,1.3rem)] cursor-pointer text-white"
                (click)="filtersVisible = !filtersVisible">Filters</span>
            </div>
            @if (filtersVisible) {
            <app-filters></app-filters>
            }
            <div class="h-px w-full bg-black/30 mt-3"></div>
            <div class="mt-15 lg:mt-30 flex items-center justify-center">
              <button class="p-3 bg-[#FE5C64]/15 text-[#FE5C64] w-full mx-8 mb-5 rounded-md cursor-pointer"
                (click)="confirmDeleteVisible = true">Delete selected</button>
            </div>
          </div>
          <div class="flex flex-col max-h-[90vh] bg-[#3D383E] h-full rounded-r-2xl overflow-hidden">
            <h1 class="text-center mt-5 text-white mb-5 text-[clamp(1rem,3vw,1.3rem)]">Your least played songs</h1>
            <div class="flex-1 overflow-y-auto overscroll-contain custom-scrollbar scrollbar-overlay">
              @for (song of songStore.songs(); track song.id; let i = $index) {
              <app-song [song]="song" [index]="i" [featured]="i < 3"></app-song>
              }
            </div>
          </div>
        </div>
      </div>
    </div>
    @if (confirmDeleteVisible) {
    <app-confirm-song-deletion-select [selectAmount]="songSelectStore.selectedIds().length"
      (songDeletionConfirmVisible)="closeSongDeletionConfirm($event)"></app-confirm-song-deletion-select>
    }
  </div>
</div>